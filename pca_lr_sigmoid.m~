

tic
X = words_train;
Y = genders_train;
folds = 5;

% ----Generate PCA
% [coef, scores, eigens] = pca(X);
% [n m] = size(X);
% 
% plot(cumsum(eigens)/sum(eigens));
% save('coef.mat', 'coef');
% save('scores.mat', 'scores');
% save('eigens.mat', 'eigens');
% ----

% ---- Load PCA
% load('coef.mat', 'coef');
% load('scores.mat', 'scores');
% load('eigens.mat', 'eigens');
% ---- 

X = scores(:, 1:580);
toc
[accuracy, Ypredicted, Ytest] = cross_validation(X, Y, folds, @linear_regression);
toc
accuracy
mean(accuracy)

acc = []
for i = 1:
    i
    X = scores(:, 1:500+i*5);
    toc
    [accuracy, Ypredicted, Ytest] = cross_validation(X, Y, folds, @linear_regression);
    toc
%     accuracy
%     mean(accuracy)
    acc = [acc ; mean(accuracy)];
end

plot(acc);

